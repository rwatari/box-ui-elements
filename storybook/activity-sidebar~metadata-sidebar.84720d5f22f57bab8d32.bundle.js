/*!
 * Box UI Element
 * 
 * Copyright 2019 Box, Inc. All rights reserved.
 * 
 * This product includes software developed by Box, Inc. ("Box")
 * (http://www.box.com)
 * 
 * ALL BOX SOFTWARE IS PROVIDED "AS IS" AND ANY EXPRESS OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL BOX BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * See the Box license for the specific language governing permissions
 * and limitations under the license.
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{3208:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(6),__webpack_require__(11),__webpack_require__(18),__webpack_require__(12),__webpack_require__(210),__webpack_require__(27),__webpack_require__(20),__webpack_require__(17),__webpack_require__(10),__webpack_require__(16),__webpack_require__(25),__webpack_require__(15);var prop_types__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__),react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_13__),form_serialize__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3225),form_serialize__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(form_serialize__WEBPACK_IMPORTED_MODULE_14__);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Form=function(_Component){function Form(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Form),_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,_getPrototypeOf(Form).call(this,props)),_defineProperty(_assertThisInitialized(_this),"onChange",(function(_ref){var currentTarget=_ref.currentTarget;if(_this.props.onChange){var formData=form_serialize__WEBPACK_IMPORTED_MODULE_14___default()(currentTarget,{hash:!0,empty:!0});_this.props.onChange(formData)}})),_defineProperty(_assertThisInitialized(_this),"onSubmit",(function(event){var form=event.target;event.preventDefault();var isValid=form.checkValidity(),_this$props=_this.props,onInvalidSubmit=_this$props.onInvalidSubmit,onValidSubmit=_this$props.onValidSubmit,registeredInputs=_this.state.registeredInputs;if(isValid){onValidSubmit(form_serialize__WEBPACK_IMPORTED_MODULE_14___default()(form,{hash:!0,empty:!0}))}else{var formValidityState=function getFormValidityState(form){return[].slice.call(form.elements).reduce((function(validityObj,inputEl){if(inputEl.name&&!inputEl.validity.valid){var validityState=inputEl.validity;return inputEl.validity.customError&&(validityState.customErrorCode=inputEl.validationMessage),validityObj[inputEl.name]={validityState:validityState},validityObj}return validityObj}),{})}(form);Object.keys(formValidityState).forEach((function(key){return registeredInputs[key]&&registeredInputs[key](formValidityState[key].validityState)})),onInvalidSubmit&&onInvalidSubmit(formValidityState)}})),_defineProperty(_assertThisInitialized(_this),"registerInput",(function(name,setValidityStateHandler){if(_this.state.registeredInputs[name])throw new Error("Input '".concat(name,"' is already registered."));var nextState=_this.state;nextState.registeredInputs[name]=setValidityStateHandler,_this.setState(nextState)})),_defineProperty(_assertThisInitialized(_this),"unregisterInput",(function(name){var nextState=_this.state;delete nextState.registeredInputs[name],_this.setState(nextState)})),_this.state={registeredInputs:{}},_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Form,_Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Form,[{key:"getChildContext",value:function getChildContext(){return{form:{registerInput:this.registerInput.bind(this),unregisterInput:this.unregisterInput.bind(this)}}}},{key:"componentDidUpdate",value:function componentDidUpdate(_ref2){var prevFormValidityState=_ref2.formValidityState,formValidityState=this.props.formValidityState,registeredInputs=this.state.registeredInputs;formValidityState!==prevFormValidityState&&Object.keys(formValidityState).forEach((function(key){registeredInputs[key]&&registeredInputs[key](formValidityState[key])}))}},{key:"render",value:function render(){var children=this.props.children;return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement("form",{noValidate:!0,onChange:this.onChange,onSubmit:this.onSubmit},children)}}]),Form}(react__WEBPACK_IMPORTED_MODULE_13__.Component);Form.displayName="Form",_defineProperty(Form,"propTypes",{children:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.node,onChange:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func,onValidSubmit:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,onInvalidSubmit:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func,formValidityState:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.object}),_defineProperty(Form,"childContextTypes",{form:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.shape({registerInput:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,unregisterInput:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired}).isRequired}),Form.__docgenInfo={description:"",methods:[{name:"onChange",docblock:null,modifiers:[],params:[{name:"{ currentTarget }",type:null}],returns:null},{name:"onSubmit",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"registerInput",docblock:null,modifiers:[],params:[{name:"name",type:null},{name:"setValidityStateHandler",type:null}],returns:null},{name:"unregisterInput",docblock:null,modifiers:[],params:[{name:"name",type:null}],returns:null}],displayName:"Form",props:{children:{type:{name:"node"},required:!1,description:""},onChange:{type:{name:"func"},required:!1,description:"Called when an input in the form changes"},onValidSubmit:{type:{name:"func"},required:!0,description:"Called when a valid submit is made"},onInvalidSubmit:{type:{name:"func"},required:!1,description:"Called when an invalid submit is made"},formValidityState:{type:{name:"object"},required:!1,description:"An object mapping input names to error messages"}},childContext:{form:{type:{name:"shape",value:{registerInput:{name:"func",required:!0},unregisterInput:{name:"func",required:!0}}},required:!0}}},__webpack_exports__.a=Form,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/form-elements/form/Form.js"]={name:"Form",docgenInfo:Form.__docgenInfo,path:"src/components/form-elements/form/Form.js"})},3209:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(6),__webpack_require__(11),__webpack_require__(18),__webpack_require__(12),__webpack_require__(9),__webpack_require__(20),__webpack_require__(17),__webpack_require__(10),__webpack_require__(16),__webpack_require__(15);var react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(0),_LinkBase__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(3226);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Link=function(_React$Component){function Link(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Link),_possibleConstructorReturn(this,_getPrototypeOf(Link).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Link,_React$Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Link,[{key:"render",value:function render(){var _this$props=this.props,className=_this$props.className,rest=_objectWithoutProperties(_this$props,["className"]);return react__WEBPACK_IMPORTED_MODULE_10__.createElement(_LinkBase__WEBPACK_IMPORTED_MODULE_11__.a,_extends({className:"link ".concat(className)},rest))}}]),Link}(react__WEBPACK_IMPORTED_MODULE_10__.Component);Link.displayName="Link",function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(Link,"defaultProps",{className:""}),Link.__docgenInfo={description:"",methods:[],displayName:"Link",props:{className:{defaultValue:{value:"''",computed:!1},required:!1,flowType:{name:"string"},description:""},children:{required:!0,flowType:{name:"ReactNode",raw:"React.Node"},description:""}}},__webpack_exports__.a=Link,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/link/Link.js"]={name:"Link",docgenInfo:Link.__docgenInfo,path:"src/components/link/Link.js"})},3226:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(6),__webpack_require__(9),__webpack_require__(17);var react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var LinkBase=function(_ref){var children=_ref.children,_ref$href=_ref.href,href=void 0===_ref$href?"#":_ref$href,linkRef=_ref.linkRef,target=_ref.target,rel=_ref.rel,component=_ref.component,refProp=_ref.refProp,rest=_objectWithoutProperties(_ref,["children","href","linkRef","target","rel","component","refProp"]),linkRel="_blank"!==target||rel?rel:"noopener",ref=function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},refProp||"ref",linkRef);return react__WEBPACK_IMPORTED_MODULE_3__.createElement(component||"a",_extends({href:href,rel:linkRel,target:target},ref,rest),children)};LinkBase.displayName="LinkBase",LinkBase.__docgenInfo={description:"",methods:[],displayName:"LinkBase",props:{href:{defaultValue:{value:"'#'",computed:!1},required:!1,flowType:{name:"string"},description:""},children:{required:!0,flowType:{name:"ReactNode",raw:"React.Node"},description:""},component:{required:!1,flowType:{name:"ReactElementType",raw:"React.ElementType"},description:""},linkRef:{required:!1,flowType:{name:"Function"},description:""},refProp:{required:!1,flowType:{name:"string"},description:""},rel:{required:!1,flowType:{name:"string"},description:""},target:{required:!1,flowType:{name:"string"},description:""}}},__webpack_exports__.a=LinkBase,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/link/LinkBase.js"]={name:"LinkBase",docgenInfo:LinkBase.__docgenInfo,path:"src/components/link/LinkBase.js"})},3256:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(6),__webpack_require__(11),__webpack_require__(18),__webpack_require__(12),__webpack_require__(20),__webpack_require__(10),__webpack_require__(16),__webpack_require__(15);var _positions,react=__webpack_require__(0),react_tether=__webpack_require__(357),react_tether_default=__webpack_require__.n(react_tether),uniqueId=__webpack_require__(36),uniqueId_default=__webpack_require__.n(uniqueId);__webpack_require__(3310);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var positions=(_defineProperty(_positions={},"bottom-center",{attachment:"top center",targetAttachment:"bottom center"}),_defineProperty(_positions,"bottom-left",{attachment:"top right",targetAttachment:"bottom right"}),_defineProperty(_positions,"bottom-right",{attachment:"top left",targetAttachment:"bottom left"}),_defineProperty(_positions,"middle-left",{attachment:"middle right",targetAttachment:"middle left"}),_defineProperty(_positions,"middle-right",{attachment:"middle left",targetAttachment:"middle right"}),_defineProperty(_positions,"top-center",{attachment:"bottom center",targetAttachment:"top center"}),_defineProperty(_positions,"top-left",{attachment:"bottom right",targetAttachment:"top right"}),_defineProperty(_positions,"top-right",{attachment:"bottom left",targetAttachment:"top left"}),_positions),hasClickableAncestor=function(rootNode,targetNode){for(var currentNode=targetNode;currentNode&&currentNode instanceof Node&&currentNode.parentNode&&currentNode!==rootNode;){var nodeName=currentNode.nodeName.toUpperCase();if("A"===nodeName||"BUTTON"===nodeName)return!0;currentNode=currentNode.parentNode}return!1},hasClassAncestor=function(targetEl,className){for(var el=targetEl;el&&el instanceof HTMLElement;){if(el.classList.contains(className))return!0;el=el.parentNode}return!1},Flyout_Flyout=function(_React$Component){function Flyout(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Flyout),_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,_getPrototypeOf(Flyout).call(this,props)),_defineProperty(_assertThisInitialized(_this),"handleOverlayClick",(function(event){var overlayNode=document.getElementById(_this.overlayID),_this$props=_this.props,closeOnClick=_this$props.closeOnClick,closeOnClickPredicate=_this$props.closeOnClickPredicate;closeOnClick&&hasClickableAncestor(overlayNode,event.target)&&(!closeOnClickPredicate||closeOnClickPredicate(event))&&_this.handleOverlayClose()})),_defineProperty(_assertThisInitialized(_this),"handleButtonClick",(function(event){_this.state.isVisible?_this.closeOverlay():_this.openOverlay();var isButtonClicked=0<event.detail;_this.setState({isButtonClicked:isButtonClicked}),event.preventDefault()})),_defineProperty(_assertThisInitialized(_this),"handleButtonHover",(function(){var _this$props2=_this.props,openOnHover=_this$props2.openOnHover,openOnHoverDelayTimeout=_this$props2.openOnHoverDelayTimeout;openOnHover&&(clearTimeout(_this.hoverDelay),_this.hoverDelay=setTimeout((function(){_this.openOverlay()}),openOnHoverDelayTimeout))})),_defineProperty(_assertThisInitialized(_this),"handleButtonHoverLeave",(function(){var _this$props3=_this.props,openOnHover=_this$props3.openOnHover,openOnHoverDelayTimeout=_this$props3.openOnHoverDelayTimeout;openOnHover&&(clearTimeout(_this.hoverDelay),_this.hoverDelay=setTimeout((function(){_this.closeOverlay()}),openOnHoverDelayTimeout))})),_defineProperty(_assertThisInitialized(_this),"openOverlay",(function(){_this.setState({isVisible:!0});var onOpen=_this.props.onOpen;onOpen&&onOpen()})),_defineProperty(_assertThisInitialized(_this),"closeOverlay",(function(){_this.setState({isVisible:!1});var onClose=_this.props.onClose;onClose&&onClose()})),_defineProperty(_assertThisInitialized(_this),"focusButton",(function(){var buttonEl=document.getElementById(_this.overlayButtonID);buttonEl&&buttonEl.focus()})),_defineProperty(_assertThisInitialized(_this),"handleOverlayClose",(function(){_this.focusButton(),_this.closeOverlay()})),_defineProperty(_assertThisInitialized(_this),"handleDocumentClickOrWindowBlur",(function(event){var _this$props4=_this.props,portaledClasses=_this$props4.portaledClasses,closeOnClickOutside=_this$props4.closeOnClickOutside,closeOnWindowBlur=_this$props4.closeOnWindowBlur;if(_this.state.isVisible&&(closeOnClickOutside||closeOnWindowBlur)){var overlayNode=document.getElementById(_this.overlayID),buttonNode=document.getElementById(_this.overlayButtonID),isInsideToggleButton=buttonNode&&event.target instanceof Node&&buttonNode.contains(event.target)||buttonNode===event.target,isInsideOverlay=overlayNode&&event.target instanceof Node&&overlayNode.contains(event.target)||overlayNode===event.target;isInsideToggleButton||isInsideOverlay||portaledClasses.some((function(className){return hasClassAncestor(event.target,className)}))||_this.closeOverlay()}})),_this.overlayID=uniqueId_default()("overlay"),_this.overlayButtonID=uniqueId_default()("flyoutbutton"),_this.state={isVisible:props.isVisibleByDefault,isButtonClicked:!1},_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Flyout,_React$Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Flyout,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(!prevState.isVisible&&this.state.isVisible){var _this$props5=this.props,closeOnClickOutside=_this$props5.closeOnClickOutside,closeOnWindowBlur=_this$props5.closeOnWindowBlur;closeOnClickOutside&&(document.addEventListener("click",this.handleDocumentClickOrWindowBlur,!0),document.addEventListener("contextmenu",this.handleDocumentClickOrWindowBlur,!0)),closeOnWindowBlur&&window.addEventListener("blur",this.handleDocumentClickOrWindowBlur,!0)}else prevState.isVisible&&!this.state.isVisible&&(document.removeEventListener("contextmenu",this.handleDocumentClickOrWindowBlur,!0),document.removeEventListener("click",this.handleDocumentClickOrWindowBlur,!0),window.removeEventListener("blur",this.handleDocumentClickOrWindowBlur,!0))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.state.isVisible&&(document.removeEventListener("contextmenu",this.handleDocumentClickOrWindowBlur,!0),document.removeEventListener("click",this.handleDocumentClickOrWindowBlur,!0),window.removeEventListener("blur",this.handleDocumentClickOrWindowBlur,!0)),this.props.openOnHover&&this.hoverDelay&&clearTimeout(this.hoverDelay)}},{key:"render",value:function render(){var _this$props6=this.props,children=_this$props6.children,_this$props6$classNam=_this$props6.className,className=void 0===_this$props6$classNam?"":_this$props6$classNam,constrainToScrollParent=_this$props6.constrainToScrollParent,constrainToWindow=_this$props6.constrainToWindow,offset=_this$props6.offset,openOnHover=_this$props6.openOnHover,position=_this$props6.position,shouldDefaultFocus=_this$props6.shouldDefaultFocus,_this$state=this.state,isButtonClicked=_this$state.isButtonClicked,isVisible=_this$state.isVisible,elements=react.Children.toArray(children),tetherPosition=positions[position];if(2!==elements.length)throw new Error("Flyout must have exactly two children: A button component and a <Overlay>");var overlayButton=elements[0],overlayContent=elements[1],overlayButtonProps={id:this.overlayButtonID,key:this.overlayButtonID,role:"button",onClick:this.handleButtonClick,onMouseEnter:this.handleButtonHover,onMouseLeave:this.handleButtonHoverLeave,"aria-haspopup":"true","aria-expanded":isVisible?"true":"false"};isVisible&&(overlayButtonProps["aria-controls"]=this.overlayID);var overlayProps={id:this.overlayID,key:this.overlayID,role:"dialog",onClick:this.handleOverlayClick,onClose:this.handleOverlayClose,onMouseEnter:this.handleButtonHover,onMouseLeave:this.handleButtonHoverLeave,shouldDefaultFocus:shouldDefaultFocus||!isButtonClicked&&!openOnHover,"aria-labelledby":this.overlayButtonID},constraints=[];constrainToScrollParent&&constraints.push({to:"scrollParent",attachment:"together"}),constrainToWindow&&constraints.push({to:"window",attachment:"together"});var tetherProps={classPrefix:"flyout-overlay",attachment:tetherPosition.attachment,targetAttachment:tetherPosition.targetAttachment,enabled:isVisible,classes:{element:"flyout-overlay ".concat(className)},constraints:constraints};if(offset)tetherProps.offset=offset;else switch(position){case"bottom-center":case"bottom-left":case"bottom-right":tetherProps.offset="-10px 0";break;case"top-center":case"top-left":case"top-right":tetherProps.offset="10px 0";break;case"middle-left":tetherProps.offset="0 10px";break;case"middle-right":tetherProps.offset="0 -10px"}return react.createElement(react_tether_default.a,tetherProps,react.cloneElement(overlayButton,overlayButtonProps),isVisible?react.cloneElement(overlayContent,overlayProps):null)}}]),Flyout}(react.Component);Flyout_Flyout.displayName="Flyout",_defineProperty(Flyout_Flyout,"defaultProps",{className:"",closeOnClick:!0,closeOnClickOutside:!0,closeOnWindowBlur:!1,constrainToScrollParent:!0,constrainToWindow:!1,isVisibleByDefault:!1,openOnHover:!1,openOnHoverDelayTimeout:300,portaledClasses:[],position:"bottom-right"}),Flyout_Flyout.__docgenInfo={description:"",methods:[{name:"handleOverlayClick",docblock:null,modifiers:[],params:[{name:"event",type:{name:"SyntheticEvent",elements:[],raw:"SyntheticEvent<>",alias:"SyntheticEvent"}}],returns:null},{name:"handleButtonClick",docblock:null,modifiers:[],params:[{name:"event",type:{name:"SyntheticUIEvent",elements:[],raw:"SyntheticUIEvent<>",alias:"SyntheticUIEvent"}}],returns:null},{name:"handleButtonHover",docblock:null,modifiers:[],params:[],returns:null},{name:"handleButtonHoverLeave",docblock:null,modifiers:[],params:[],returns:null},{name:"openOverlay",docblock:null,modifiers:[],params:[],returns:null},{name:"closeOverlay",docblock:null,modifiers:[],params:[],returns:null},{name:"focusButton",docblock:null,modifiers:[],params:[],returns:null},{name:"handleOverlayClose",docblock:null,modifiers:[],params:[],returns:null},{name:"handleDocumentClickOrWindowBlur",docblock:null,modifiers:[],params:[{name:"event",type:{name:"union",raw:"MouseEvent | FocusEvent",elements:[{name:"MouseEvent"},{name:"FocusEvent"}]}}],returns:null}],displayName:"Flyout",props:{className:{defaultValue:{value:"''",computed:!1},required:!1,flowType:{name:"string"},description:"Set className to the overlay wrapper"},closeOnClick:{defaultValue:{value:"true",computed:!1},required:!1,flowType:{name:"boolean"},description:"If set to true, closes the overlay on clicking buttons/links inside\nof it"},closeOnClickOutside:{defaultValue:{value:"true",computed:!1},required:!1,flowType:{name:"boolean"},description:"If set to true, closes the overlay on clicking outside of it"},closeOnWindowBlur:{defaultValue:{value:"false",computed:!1},required:!1,flowType:{name:"boolean"},description:"If set to true, closes the overlay when window loses focus"},constrainToScrollParent:{defaultValue:{value:"true",computed:!1},required:!1,flowType:{name:"boolean"},description:"Sets tether constrain to scrollParent"},constrainToWindow:{defaultValue:{value:"false",computed:!1},required:!1,flowType:{name:"boolean"},description:"Sets tether constrain to window"},isVisibleByDefault:{defaultValue:{value:"false",computed:!1},required:!1,flowType:{name:"boolean"},description:"Whether overlay should be visible by default"},openOnHover:{defaultValue:{value:"false",computed:!1},required:!1,flowType:{name:"boolean"},description:"Whether overlay should open on hover"},openOnHoverDelayTimeout:{defaultValue:{value:"300",computed:!1},required:!1,flowType:{name:"number"},description:"Time in milliseconds that the button should wait before opening and closing the flyout"},portaledClasses:{defaultValue:{value:"[]",computed:!1},required:!1,flowType:{name:"Array",elements:[{name:"string"}],raw:"Array<string>"},description:"An array of CSS classes for portaled elements in the overlay, used to check whether a click is inside the overlay"},position:{defaultValue:{value:"'bottom-right'",computed:!1},required:!1,flowType:{name:"union",raw:"| 'bottom-center'\n| 'bottom-left'\n| 'bottom-right'\n| 'middle-left'\n| 'middle-right'\n| 'top-center'\n| 'top-left'\n| 'top-right'",elements:[{name:"literal",value:"'bottom-center'"},{name:"literal",value:"'bottom-left'"},{name:"literal",value:"'bottom-right'"},{name:"literal",value:"'middle-left'"},{name:"literal",value:"'middle-right'"},{name:"literal",value:"'top-center'"},{name:"literal",value:"'top-left'"},{name:"literal",value:"'top-right'"}]},description:"Position of the overlay"},children:{required:!0,flowType:{name:"ReactNode",raw:"React.Node"},description:""},closeOnClickPredicate:{required:!1,flowType:{name:"Function"},description:"Function that will interrogate the click event to determine whether or not to close the overlay if closeOnClick is enabled"},offset:{required:!1,flowType:{name:"string"},description:"Will fire this callback when the flyout should open"},onClose:{required:!1,flowType:{name:"Function"},description:"Will fire this callback when the flyout should close"},onOpen:{required:!1,flowType:{name:"Function"},description:"Adjusts placement of the overlay (SEE http://tether.io/#options)"},shouldDefaultFocus:{required:!1,flowType:{name:"boolean"},description:"Prop whether to focus first focusable element or not"}}};var components_flyout_Flyout=Flyout_Flyout;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/flyout/Flyout.js"]={name:"Flyout",docgenInfo:Flyout_Flyout.__docgenInfo,path:"src/components/flyout/Flyout.js"});__webpack_require__(19),__webpack_require__(17);var omit=__webpack_require__(62),omit_default=__webpack_require__.n(omit),focus_trap=__webpack_require__(1135);function Overlay_typeof(obj){return(Overlay_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function Overlay_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function Overlay_getPrototypeOf(o){return(Overlay_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Overlay_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function Overlay_setPrototypeOf(o,p){return(Overlay_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function Overlay_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Overlay_Overlay=function(_React$Component){function Overlay(){var _getPrototypeOf2,_this;!function Overlay_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Overlay);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=function Overlay_possibleConstructorReturn(self,call){return!call||"object"!==Overlay_typeof(call)&&"function"!=typeof call?Overlay_assertThisInitialized(self):call}(this,(_getPrototypeOf2=Overlay_getPrototypeOf(Overlay)).call.apply(_getPrototypeOf2,[this].concat(args))),Overlay_defineProperty(Overlay_assertThisInitialized(_this),"closeOverlay",(function(){var onClose=_this.props.onClose;onClose&&setTimeout((function(){return onClose()}),0)})),Overlay_defineProperty(Overlay_assertThisInitialized(_this),"handleOverlayKeyDown",(function(event){"Escape"!==event.key||(event.stopPropagation(),event.preventDefault(),_this.closeOverlay())})),_this}return function Overlay_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Overlay_setPrototypeOf(subClass,superClass)}(Overlay,_React$Component),function Overlay_createClass(Constructor,protoProps,staticProps){return protoProps&&Overlay_defineProperties(Constructor.prototype,protoProps),staticProps&&Overlay_defineProperties(Constructor,staticProps),Constructor}(Overlay,[{key:"render",value:function render(){var _this$props=this.props,children=_this$props.children,className=_this$props.className,rest=_objectWithoutProperties(_this$props,["children","className"]),overlayProps=omit_default()(rest,["onClose"]);return overlayProps.className=className,overlayProps.handleOverlayKeyDown=this.handleOverlayKeyDown,overlayProps.tabIndex=0,react.createElement(focus_trap.a,overlayProps,react.createElement("div",{className:"overlay"},children))}}]),Overlay}(react.Component);Overlay_Overlay.displayName="Overlay",Overlay_Overlay.__docgenInfo={description:"",methods:[{name:"closeOverlay",docblock:null,modifiers:[],params:[],returns:null},{name:"handleOverlayKeyDown",docblock:null,modifiers:[],params:[{name:"event",type:{name:"SyntheticKeyboardEvent",elements:[],raw:"SyntheticKeyboardEvent<>",alias:"SyntheticKeyboardEvent"}}],returns:null}],displayName:"Overlay",props:{children:{required:!0,flowType:{name:"ReactNode",raw:"React.Node"},description:"Overlay contents"},className:{required:!1,flowType:{name:"string"},description:"Component class names"},onClick:{required:!1,flowType:{name:"Function"},description:""},onClose:{required:!1,flowType:{name:"Function"},description:""},shouldDefaultFocus:{required:!1,flowType:{name:"boolean"},description:""}}};var flyout_Overlay=Overlay_Overlay;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/flyout/Overlay.js"]={name:"Overlay",docgenInfo:Overlay_Overlay.__docgenInfo,path:"src/components/flyout/Overlay.js"}),__webpack_require__.d(__webpack_exports__,"a",(function(){return components_flyout_Flyout})),__webpack_require__.d(__webpack_exports__,"b",(function(){return flyout_Overlay}))},3310:function(module,exports,__webpack_require__){}}]);
//# sourceMappingURL=activity-sidebar~metadata-sidebar.84720d5f22f57bab8d32.bundle.js.map